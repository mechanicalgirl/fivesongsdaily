{% extends 'adminbase.html' %}

{% block content %}

  {% if playlist %}

    <form action="/admin/playlist/edit/{{ playlist.id }}" method="post" enctype="multipart/form-data">

    <table class="table">
      <tbody>
        <tr>
          <th scope="row">Playlist Date</th>
          <td><input class="form-control" type="text" name="play_date" value="{{ playlist.play_date }}" /></td>
        </tr>
        <tr>
          <th scope="row">Theme</th>
          <td><input class="form-control" type="text" name="theme" value="{{ playlist.theme }}" /></td>
        </tr>

    {% if songs %}
      {% for song in songs %}
          <th scope="row" id="{{ song.index }}">Song {{ songs.index(song) }}</th>
          <td>
            <div class="form-group">
              <select class="form-control" name="song-id-{{ songs.index(song) }}">
                <option value="{{ song.id }}" selected>{{ song.title }} - {{ song.artist }}</option>
                {% for s in all_songs %}
                  <option value="{{ s.id }}">{{ s.title }} - {{ s.artist }}</option>
                {% endfor %}
              </select>
            </div>
          </td>
        </tr>
      {% endfor %}
    {% endif %}

    {% if extra %}
      {% for number in extra %}
        {{ number }}
          <th scope="row" id="{{ number }}">Song {{ number }}</th>
          <td>
            <div class="form-group">
              <select class="form-control" name="song-id-{{ number }}">
                <option value="" selected></option>
                {% for s in all_songs %}
                  <option value="{{ s.id }}">{{ s.title }} - {{ s.artist }}</option>
                {% endfor %}
              </select>
            </div>
          </td>
        </tr>
      {% endfor %}
    {% endif %}

      </tbody>
    </table>

    <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <br />

  {% else %}

    No playlist - how did you get here?

  {% endif %}

  <p><a href="/admin/playlists">Back to all playlists</a></p>

{% endblock %}
